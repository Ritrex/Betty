(this.webpackJsonpbetty=this.webpackJsonpbetty||[]).push([[0],{115:function(e,t,a){e.exports=a(227)},120:function(e,t,a){},121:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},122:function(e,t,a){},125:function(e,t){},127:function(e,t){},161:function(e,t){},162:function(e,t){},227:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(108),r=a.n(o),c=(a(120),a(15)),s=a(24),u=a(17),i=a(16),m=a(18),p=(a(121),a(122),a(19)),h=(a(63),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e,t,a,n){e.preventDefault(),console.log("?",t,n),a(e,n)}},{key:"render",value:function(){var e=this,t=this.props.signup,a=this.props.edit,n=this.props.handler,o=this.props.state;return console.log("Form",o),l.a.createElement("div",{className:"Signup",onSubmit:function(a){return e.handleSubmit(a,t,n,o)}},l.a.createElement("form",{action:"submit"},l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("input",{type:"email",name:"email",placeholder:a?"anexample@example.com":"",defaultValue:a?o.state.user.email:""}),t||a?l.a.createElement("label",{htmlFor:"name"},"Name:"):"",t||a?l.a.createElement("input",{name:"name",type:"text",placeholder:a?"Douglas J.":"",defaultValue:a?o.state.user.name:""}):"",l.a.createElement("label",{htmlFor:"password"},"Password: "),l.a.createElement("input",{name:"password",type:"password"}),t||a?l.a.createElement("label",{htmlFor:"confpassword"},'"Confirmar password:" '):"",t||a?l.a.createElement("input",{name:"confpassword",type:"password"}):"",l.a.createElement("button",{type:"submit"},t?"Register":a?"Update":"Login")))}}]),t}(n.Component)),d=a(5),g=a(33),v=a(25);function f(){var e=Object(g.a)(["\n  background-color: #cec4a2;\n  display: flex;\n  justify-content: space-evenly;\n  height: 10vh;\n  width: 100%;\n"]);return f=function(){return e},e}function E(){var e=Object(g.a)(["\n  width: 10%;\n  height: 10vh;\n"]);return E=function(){return e},e}var b=v.a.div(E()),w=(v.a.nav(f()),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props;e.title,e.linklist;return l.a.createElement("nav",null,l.a.createElement("a",{href:"#my-id","uk-toggle":!0},l.a.createElement(b,null,"C")))}}]),t}(n.Component));function S(){var e=Object(g.a)(["\n  height: 100%;\n  width: 20%;\n"]);return S=function(){return e},e}var O=v.a.div(S()),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).render=function(e){var t=e.state,a=e.handlers;return l.a.createElement(O,null,l.a.createElement("ul",null,"User",l.a.createElement("li",null,t.state.user?"":l.a.createElement("li",null,l.a.createElement(d.b,{to:"/user/login"},"Login")),t.state.user?"":l.a.createElement("li",null,l.a.createElement(d.b,{to:"/user/signup"},"Signup")),t.state.user?l.a.createElement(d.b,{onClick:a.handleLogout},"Logout"):""),l.a.createElement("li",null),l.a.createElement("li",null)),l.a.createElement("ul",null,"Procesos",l.a.createElement("li",null,l.a.createElement(d.b,null,"Nuevo Proceso"))),l.a.createElement("ul",null,"Tareas",l.a.createElement("li",null,l.a.createElement(d.b,null,"Nueva Tarea"))))},a}return Object(m.a)(t,e),t}(n.Component),y=function(e){var t=e.state,a=e.handlers;return console.log("Router ",t.state.user?"a":"b"),l.a.createElement(p.c,null,l.a.createElement(w,{handlers:a}),l.a.createElement(j,null),l.a.createElement(p.a,{exact:!0,path:"/"},l.a.createElement("h1",null,t.state.user?"Bienvenido ".concat(t.state.user.name):"Home"),t.state.user?"":l.a.createElement(d.b,{to:"/user/login"},"Login"),t.state.user?"":l.a.createElement(d.b,{to:"/user/signup"},"Signup"),t.state.user?l.a.createElement("button",{onClick:a.handleLogout},"Logout"):""),l.a.createElement(p.a,{exact:!0,path:"/user/update"},l.a.createElement(h,{update:!0,handler:a.handleUpdate})),l.a.createElement(p.a,{exact:!0,path:"/user/signup"},l.a.createElement(h,{signup:!0,handler:a.handleSignup,state:t}),l.a.createElement(d.b,{to:"/"},"Home")),l.a.createElement(p.a,{exact:!0,path:"/user/login"},l.a.createElement(h,{handler:a.handleLogin,state:t}),l.a.createElement(d.b,{to:"/"},"Home")),l.a.createElement(p.a,{path:"/"},l.a.createElement("h1",null,"404"),l.a.createElement(d.b,{to:"/"},l.a.createElement("button",{className:""},"Home"))))},k=a(39),L=a.n(k),x=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).handleLogin=function(e,t){e.preventDefault();var a=e.target,n=a.email,l=a.password;console.log("Login\n",n.value,l.value,t),L.a.post("http://localhost:3005/user/login",{email:n.value,password:l.value}).then((function(e){var a=e.data,n=a.user,l=a.token;console.log(e.data),console.log("!"),localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("token",l),console.log("Uno",t,t.setState({user:n,token:l})),console.log("logged in",t)})).catch((function(e){console.log("uh..",e)}))},e.handleSignup=function(e,t){e.preventDefault();var a=e.target,n=a.email,l=a.password,o=a.name,r=a.confpassword;console.log("Signup\n",n.value,o.value,l.value,r.value),L.a.post("http://localhost:3005/user/signup",{email:n.value,password:l.value,confpassword:r.value,name:o.value}).then((function(e){var a=e.data,n=a.user,l=a.token;console.log(n,l),console.log("!"),localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("token",l),t.setState({user:n}),console.log("logged in",t)})).catch((function(e){console.log(e)}))},e.handleLogout=function(e,t){localStorage.removeItem("user"),localStorage.removeItem("token")},e.handleUpdate=function(e,t){e.preventDefault();var a=e.target,n=a.email,l=a.password,o=a.name,r=a.confpassword;console.log("Update\n",n.value,o.value,l.value,r.value),L.a.post("http://localhost:3005/user/update/".concat(t.state.user._id),{email:n.value,password:l.value,confpassword:r.value,name:o.value})},console.log(localStorage);var a=JSON.parse(localStorage.getItem("user"));return e.state={user:a,isFetching:!1},void 0!==a&&console.log("user found: ",a),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(y,{state:{state:this.state,setState:this.setState},handlers:{handleLogin:this.handleLogin,handleSignup:this.handleSignup,handleLogout:this.handleLogout}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(224),a(225),a(226);r.a.render(l.a.createElement((function(){return l.a.createElement(d.a,null,l.a.createElement(x,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[115,1,2]]]);
//# sourceMappingURL=main.75733305.chunk.js.map