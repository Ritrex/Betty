(this.webpackJsonpbetty=this.webpackJsonpbetty||[]).push([[0],{117:function(e,t,n){e.exports=n(226)},122:function(e,t,n){},123:function(e,t,n){},147:function(e,t){},149:function(e,t){},183:function(e,t){},184:function(e,t){},226:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),l=n.n(o),c=(n(122),n(9)),i=n(21),u=n(11),s=n(10),h=n(12),m=(n(123),n(7)),d=n(23),p=n(5);function g(){var e=Object(m.a)(["\n    color:black;\n    height:",";\n    width: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    button{\n      height: 30px;\n      width: 200px;\n\n      background-color:",";\n      border:1px solid ",";\n      border-radius:8px;\n      margin-top:20px;\n    }\n\n}\n"]);return g=function(){return e},e}var f=p.a.form(g(),(function(e){return e.alto?e.alto:"400px"}),(function(e){return e.ancho?e.ancho:"400px"}),(function(e){return e.formButtonColor?e.formButtonColor:"#77e277"}),(function(e){return e.formButtonColor?e.formButtonColor:"#77ee77"})),b=(n(227),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e,t,n,a){e.preventDefault(),console.log("?",t,a),n(e,a)}},{key:"render",value:function(){var e=this,t=this.props.signup,n=this.props.edit,a=this.props.handler,o=this.props.state;return console.log("Form",o),r.a.createElement("div",{className:"Signup",onSubmit:function(n){return e.handleSubmit(n,t,a,o)},style:{Display:"flex",flexDirection:"column"}},r.a.createElement(f,{action:"submit",alto:"100vh",ancho:"600px"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",name:"email",placeholder:n?"anexample@example.com":"",defaultValue:n?o.state.user.email:""}),t||n?r.a.createElement("label",{htmlFor:"name"},"Name:"):"",t||n?r.a.createElement("input",{name:"name",type:"text",placeholder:n?"Douglas J.":"",defaultValue:n?o.state.user.name:""}):"",r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{name:"password",type:"password"}),t||n?r.a.createElement("label",{htmlFor:"confpassword"},'"Confirmar password:" '):"",t||n?r.a.createElement("input",{name:"confpassword",type:"password"}):"",r.a.createElement("button",{type:"submit"},t?"Register":n?"Update":"Login")))}}]),t}(a.Component)),v=n(24),E=n.n(v),w=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.edit;var e=this.props,t=e.state,n=e.handleProcessSubmit,a=e.setState;return r.a.createElement(f,{onSubmit:function(e){return n(e,t,a)},className:"Signup",action:"submit",alto:"80%",ancho:"80%"},r.a.createElement("label",{htmlFor:"processname"},"Nombre de la nueva Tarea"),r.a.createElement("input",{type:"text",name:"processname",placeholder:"Nombre del proceso",defaultValue:Date.now().toString()}),r.a.createElement("button",null," Crear nueva Tarea"))}}]),t}(a.Component),k=n(17);function y(){var e=Object(m.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 0 5px 5px 5px;\n  box-shadow: 1px 1px 0 1px #cccccc;\n  margin: 0 auto;\n  background-color: #e1c699;\n"]);return y=function(){return e},e}function x(){var e=Object(m.a)(["\n  margin: 0 auto;\n  background-color: #e1c699;\n  margin-right: 80%;\n  border-radius: 5px 15px 0 0;\n  width: ",";\n  height: ",";\n  align-self: left;\n"]);return x=function(){return e},e}function j(){var e=Object(m.a)(["\n  //border: solid 1px #000;\n  width: ",";\n  height: ",";\n  padding: 5px;\n  align-content: left;\n  //text-align: center;\n"]);return j=function(){return e},e}var O=p.a.div(j(),(function(e){return e.width?e.width:"100%"}),(function(e){return e.height?e.height:"100%"})),S=p.a.div(x(),(function(e){return e.width?e.width:"20%"}),(function(e){return e.height?e.height:"10%"})),C=p.a.div(y(),(function(e){return e.width?e.width:"100%"}),(function(e){return e.height?e.height:"80%"})),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tabheight,n=e.tabwidth,a=e.bodyheight,o=e.bodywidth;return r.a.createElement(O,null,r.a.createElement(S,{width:n,height:t}),r.a.createElement(C,{width:o,height:a},r.a.createElement("table",{style:{color:"black",width:"100%",height:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{width:"100%"}},r.a.createElement("th",null,"filename"),r.a.createElement("th",null,"size"),r.a.createElement("th",null,"last update"),r.a.createElement("th",null,"download"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1256 SUNBEAM"),r.a.createElement("td",null,"12.52 MB"),r.a.createElement("td",null,"12/07/2019"),r.a.createElement("td",null,r.a.createElement(k.b,{to:"/task/documents"},"Info")))))))}}]),t}(a.Component);n(144),n(35);function N(){var e=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n"]);return N=function(){return e},e}function D(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 10%;\n  width: 100%;\n"]);return D=function(){return e},e}function T(){var e=Object(m.a)(["\n  width: 5%;\n  height: 100%;\n  text-decoration: none;\n  color: black;\n"]);return T=function(){return e},e}var B=p.a.div(T()),I=p.a.nav(D());p.a.img(N()),a.Component;function P(){var e=Object(m.a)(["\n  list-style: none;\n  color: black;\n  padding: 0px;\n"]);return P=function(){return e},e}function U(){var e=Object(m.a)(['\n  height: 100%;\n  width: 20%;\n  background-color: #ffffff;\n  background-image: url("/brownsheet.jpg");\n  background-repeat: no-repeat;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.3);\n  h3 {\n    border-bottom: 2px solid #93592b;\n  }\n']);return U=function(){return e},e}var F=p.a.div(U()),J=p.a.ul(P()),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.link,a=e.content;return r.a.createElement("li",null,r.a.createElement(k.b,{style:{textDecoration:"none",color:"rgb(170, 77, 0)"},to:t},a))},n}return Object(h.a)(t,e),t}(a.Component),V=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.state,a=e.handlers,o=(e.exceptions,t.state.user);return r.a.createElement(F,null,r.a.createElement(J,null,r.a.createElement("h3",null,"Home"),r.a.createElement(A,{link:"/",content:"Front Page"})),r.a.createElement(J,null,r.a.createElement("h3",null,"User"),o?"":r.a.createElement(A,{link:"/user/login",content:"Log in"}),o?"":r.a.createElement(A,{link:"/user/signup",content:"Sign up"}),o?r.a.createElement("a",{onClick:a.handleLogout},"Logout"):""),o?r.a.createElement(J,null,r.a.createElement("h3",null,"Trabajo"),r.a.createElement(A,{link:"/task/new",content:"Nuevo Trabajo"})):"")},n}return Object(h.a)(t,e),t}(a.Component),z=n(60),H=n.n(z),M=n(61),R=n.n(M);function W(){var e=Object(m.a)(['\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  // background-image: url("/sheet.jpg");\n  background-repeat: no-repeat;\n  background-size: cover;\n  color: white;\n  width:80%\n  height:80%\n']);return W=function(){return e},e}function $(){var e=Object(m.a)(["\n  height: 100%;\n  width: 100%;\n"]);return $=function(){return e},e}function _(){var e=Object(m.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n"]);return _=function(){return e},e}var q=p.a.div(_()),G=p.a.div($()),K=p.a.div(W()),Q=function(e){var t=e.state,n=e.handlers;return console.log("Router ",t.state.user?"a":"b"),r.a.createElement(G,null,r.a.createElement(q,null,r.a.createElement(V,{state:t,handlers:n}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement(K,null,r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",textAlign:"center"}},r.a.createElement("h1",{style:{color:"white"}},t.state.user?"Tareas recientes":"Bienvenido"),t.state.user?r.a.createElement(L,null):"",t.state.user?r.a.createElement("button",{style:{width:"40%"},onClick:n.handleLogout},"Logout"):""))),r.a.createElement(d.b,{exact:!0,path:"/user/update"},r.a.createElement(K,{style:{height:"80%",width:"80%"}},r.a.createElement(b,{update:!0,handler:n.handleUpdate}))),r.a.createElement(d.b,{exact:!0,path:"/user/signup",style:{height:"100%",width:"80%"}},">",r.a.createElement(b,{signup:!0,handler:n.handleSignup,state:t})),r.a.createElement(d.b,{exact:!0,path:"/user/login"},t.state.user?r.a.createElement(d.a,{to:"/"}):r.a.createElement(K,{style:{height:"100%",width:"80%"}},r.a.createElement(b,{handler:n.handleLogin,state:t}))),r.a.createElement(d.b,{exact:!0,path:"/task/new"},t.state.user?r.a.createElement(K,{style:{height:"100%",width:"80%"}},r.a.createElement(w,{state:t,handler:n.handle})):r.a.createElement(d.a,{to:"/"})),r.a.createElement(d.b,{exact:!0,path:"/task/all"}),r.a.createElement(d.b,{exact:!0,path:"/task/:taskid"}),r.a.createElement(d.b,{exact:!0,path:"/task/:taskid/documents"}),r.a.createElement(d.b,{exact:!0,path:"/tak/:taskid/document/:documentid"}),r.a.createElement(d.b,{path:"/"},r.a.createElement("h1",null,"404"),r.a.createElement(k.c,{to:"/"},r.a.createElement("button",{className:""},"Home"))))))},X=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).handleLogin=function(e,t){e.preventDefault();var n=e.target,a=n.email,o=n.password;console.log("Login\n",a.value,o.value,"E",t),E.a.post("https://bettymanager.herokuapp.com/api/user/login",{email:a.value,password:o.value}).then((function(e){var n=e.data,a=n.user,o=n.token;return console.log(e.data),console.log("!"),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",o),console.log("Uno",t,t.setState({user:a,token:o})),console.log("logged in",t),r.a.createElement(d.a,{to:"/"})})).catch((function(e){console.log("There was an error trying to log in:",e)}))},e.handleSignup=function(e,t){e.preventDefault();var n=e.target,a=n.email,r=n.password,o=n.name,l=n.confpassword;console.log("Signup\n",a.value,o.value,r.value,l.value),E.a.post("https://bettymanager.herokuapp.com/api/user/signup",{email:a.value,password:r.value,confpassword:l.value,name:o.value}).then((function(e){var n=e.data,a=n.user,r=n.token;console.log(a,r),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",r),t.setState({user:a}),console.log("logged in",t)})).catch((function(e){console.log(e)}))},e.handleLogout=function(e){return localStorage.removeItem("user"),localStorage.removeItem("token"),r.a.createElement(d.a,{to:"/"})},e.handleUpdate=function(e,t){e.preventDefault();var n=e.target,a=n.email,r=n.password,o=n.name,l=n.confpassword;console.log("Update\n",a.value,o.value,r.value,l.value),E.a.post("https://bettymanager.herokuapp.com/api/user/update/".concat(t.state.user._id),{email:a.value,password:r.value,confpassword:l.value,name:o.value})},e.getUser=function(t,n){var a=e.state.state.user.user;E.a.post("https://bettymanager.herokuapp.com/api/user".concat(a)).then((function(e){console.log("User retrieved & found:",e)}))},e.getTasks=function(t,n,a){e.state.state.user;E.a.get("https://bettymanager.herokuapp.com/api/task/").then((function(e){a({tasks:e})})).catch((function(e){console.log(e)}))},e.createTask=function(e,t,n){},e.deleteTask=function(e,t,n,a){},e.updateTask=function(e,t,n,a){},e.createProcess=function(e,t,n,a){},e.deleteProcess=function(e,t,n,a,r){},e.updateProcess=function(e,t,n,a,r){},console.log(localStorage);var n=JSON.parse(localStorage.getItem("user"));return e.state={user:n,isFetching:!1},void 0!==n&&console.log("user found: ",n),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Q,{state:{state:this.state,setState:this.setState},handlers:{handleLogin:this.handleLogin,handleSignup:this.handleSignup,handleLogout:this.handleLogout,handleProcessSubmit:this.handleProcessSubmit}}))}},{key:"handleProcessSubmit",value:function(e,t,n){var a=t.state.user;E.a.post("https://bettymanager.herokuapp.com/api/task/new",{user:a}).then((function(e){var a=t.state.tasks?t.state.tasks:[];a.push(e),n({tasks:a}),console.log("task created successfully")})).catch((function(e){console.log(e)}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));H.a.use(R.a);l.a.render(r.a.createElement((function(){return r.a.createElement(k.a,null,r.a.createElement(X,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[117,1,2]]]);
//# sourceMappingURL=main.bba51fe7.chunk.js.map